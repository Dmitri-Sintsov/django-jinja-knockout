{# https://gist.github.com/bearz/7394681 #}
{% macro bs_form(form, action, html, method='post') -%}
{% from 'bs_form_body.htm' import bs_form_body with context %}
<div class="panel panel-default {{ html.class }}">
    <div class="panel-heading"><h3 class="panel-title">{{ html.title }}</h3></div>
    <div class="panel-body">
        <form action="{{ action }}" method="{{ method }}" enctype="multipart/form-data" role="form">
            {{ bs_form_body(form) }}
            <button type="submit" class="btn btn-primary">{{ html.submit_text }}</button>
            {% if caller %}
                {{ caller() }}
            {% endif %}
        </form>
    </div>
</div>
{%- endmacro %}
